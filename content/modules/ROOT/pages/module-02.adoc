= Lab Guide: Filtering Azure Instances by Tags
:doctype: book
:notoc:
:toc-title: Table of Contents
:sectnums:
:icons: font

_A guide to filtering cloud resources in Microsoft Azure by purpose, owner, environment, or other criteria using tags._

---

== Lab Briefing

This section provides an overview of the lab challenge and instructions for getting started.

=== Challenge Summary

In this challenge, you will use filters to control what information is retrieved from your cloud provider. One of the most common and powerful ways to filter resources is by using **tags**.

Tags are key-value pairs that act as metadata for organizing your cloud resources. Each tag has two parts:

* A tag **key** (e.g., `CostCenter`, `operating_system`, `owner`).
* A tag **value** (e.g., `1234`, `windows`, `nuno`).

You can use tags to categorize resources by purpose, owner, environment, or any other criteria you define.

=== Getting Started

That is the end of your challenge briefing! Please click the green **Start** button in the bottom right corner of this window if the lab has not already started.

image:https://github.com/IPvSean/pictures_for_github/blob/master/start_button.png?raw=true[Start Button, 100, opts="border"]

---

== Lab Guide: Hands-On Tasks

*Estimated time to complete: 10 minutes*

In this second challenge, you will use filters to control what information is retrieved from Azure, specifically by filtering on tags.

=== Task 1: Log into Automation Controller

First, you will log in to the automation controller to begin the lab exercises.

.   **Navigate to the Automation Controller UI.**
+
    Click on the **Automation Controller** tab at the top of your lab window.

.   **Log in with the provided credentials.**
+
[cols="1,2a"]
|===
| Username | `admin`
| Password | `ansible123!`
|===

After logging in, you will land on the main dashboard.

=== Task 2: Create a Job Template with a Filter

Next, you will create a job template that runs a playbook to retrieve specific virtual machines based on a tag filter.

.   **Navigate to the Templates page.**
+
    In the left navigation menu, go to **Resources** â†’ **Templates**.
+
image:https://github.com/IPvSean/pictures_for_github/blob/master/job_templates.png?raw=true[Templates link in navigation menu, 200, opts="border"]

.   **Create a new job template.**
+
    **Click** the blue **Add** button and select **Add job template**.
+
image:https://github.com/IPvSean/pictures_for_github/blob/master/add_job_template.png?raw=true[Add job template button, 200, opts="border"]

.   **Enter the job template details.**
+
    Fill out the form with the following information:
+
[cols="1,1"]
|===
| Parameter               | Value
| Name                    | `Retrieve instances by tag`
| Job Type                | `Run`
| Inventory               | `Demo Inventory`
| Project                 | `Cloud Visibility Project`
| Execution Environment   | `Microsoft Azure Execution Environment`
| Playbook                | `playbooks/retrieve_vms_detail.yml`
| Credentials             | `azure_crede
